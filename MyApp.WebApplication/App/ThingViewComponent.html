<h1>
    Thing
    <span ng-if="$ctrl.thingId === 'new'">: New</span>
</h1>
<form name="form" novalidate>
    <async-content promise="$ctrl.initPromise" message="Loading thing...">
        <div class="form-group" ng-class="{ 'has-error': form.name.$dirty && form.name.$invalid }">
            <label class="control-label">
                Name
            </label>
            <input name="name" ng-model="$ctrl.thing.name" required class="form-control" />
            <div class="alert alert-danger" ng-if="form.name.$dirty && form.name.$invalid">
                This field is required.
            </div>
        </div>
        <button class="btn btn-primary" ng-click="$ctrl.save()" ng-disabled="form.$invalid">Save</button>
        <async-content promise="$ctrl.savePromise" ng-if="$ctrl.savePromise"></async-content>
    </async-content>
</form>